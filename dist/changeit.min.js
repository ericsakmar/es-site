(function(){window.addEventListener("scroll",function(){var a,b,c,d,e,f;for(b=window.pageYOffset,e=this.changes,f=[],c=0,d=e.length;d>c;c++)a=e[c],f.push(a.applyIt(b));return f},!1),this.changes=[],this.between=function(a){var b;return b=new Changer(a),this.changes.push(b),b},this.Tween=function(){function a(){}return a.prototype.toPercent=function(a){return(a-this.start)/(this.end-this.start)},a.prototype.calculate=function(a){var b,c,d,e;return d=this.toPercent(a),null!=this.from.value?(this.to.value-this.from.value)*d+this.from.value+this.to.unit:null!=this.from.red&&null!=this.from.green&&null!=this.from.blue?(e=this.calculateHex(this.to.red,this.from.red,d),c=this.calculateHex(this.to.green,this.from.green,d),b=this.calculateHex(this.to.blue,this.from.blue,d),"#"+e+c+b):void 0},a.prototype.calculateHex=function(a,b,c){var d,e,f;return e=a-b,d=e*c+b,f=Math.round(d).toString(16),1===f.length&&(f="0"+f),f},a}(),this.Changer=function(){function a(a){this.currentTween=new Tween,this.currentTween.start=a,this.tweens=[this.currentTween]}return a.prototype.and=function(a){return this.currentTween.end=a,this},a.prototype.change=function(a){return this.property=a,this},a.prototype.on=function(a){return this.el=document.querySelector(a),this},a.prototype.from=function(a){return this.currentTween.from=this.parseProperty(a),this},a.prototype.to=function(a){return this.currentTween.to=this.parseProperty(a),this},a.prototype.then=function(){return this.currentTween=new Tween,this.tweens.push(this.currentTween),this},a.prototype.go=function(){return this},a.prototype.between=function(a){return this.currentTween.start=a,this},a.prototype.parseProperty=function(a){var b,c,d,e;return a.match(/^[\d\.]+[\w\%]+$/)?(d=/([\d\.]+)([\w\%]+)/.exec(a),{value:parseFloat(d[1]),unit:d[2],raw:a}):a.match(/^#[0123456789abcdef]+$/)?(e=parseInt(a.substring(1,3),16),c=parseInt(a.substring(3,5),16),b=parseInt(a.substring(5,7),16),{red:e,green:c,blue:b,raw:a}):void 0},a.prototype.applyIt=function(a){var b,c,d,e,f,g,h;if(b=this.parseCssText(this.el.style.cssText),c=this.tweens[0],d=this.tweens[this.tweens.length-1],a<c.start)b[this.property]=c.from.raw;else if(a>d.end)b[this.property]=d.to.raw;else for(h=this.tweens,f=0,g=h.length;g>f;f++)if(e=h[f],a>=e.start&&a<=e.end){b[this.property]=e.calculate(a);break}return this.el.style.cssText=this.toCssText(b)},a.prototype.parseCssText=function(a){var b,c,d,e,f,g;for(d=a.split(/\s*;\s*/),b={},f=0,g=d.length;g>f;f++)e=d[f],c=this.parseCssProperty(e),b[c[0]]=c[1];return b},a.prototype.parseCssProperty=function(a){var b;return b=a.replace(/^\s*|\s*$/g,""),b.split(/\s*:\s*/)},a.prototype.toCssText=function(a){var b,c,d;b="";for(c in a)d=a[c],b+=""+c+":"+d+";";return b},a}()}).call(this);